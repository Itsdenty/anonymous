angular.module("mailerlite.statistics",[]),angular.module("mailerlite.statistics").directive("mlTrackClick",["$timeout","statisticsService",function(a,b){return{scope:{data:"=mlTrackClick"},link:function(a,c,d){c.click(function(){b.track(a.data)})}}}]),angular.module("mailerlite.statistics").provider("statistics",function(){var a={defaultFeature:"no_feature",mode:"socket.io"};return{setDefaultAccountId:function(b){a.defaultAccountId=b},setMode:function(b){a.mode=b},setDefaultFeature:function(b){a.defaultFeature=b},setStatisticsEndpointUrl:function(b){a.statisticsEndpointUrl=b},$get:function(){return a}}}),angular.module("mailerlite.statistics").service("statisticsService",["$timeout","$http","statistics",function(a,b,c){if(!c.statisticsEndpointUrl)return void(this.track=function(){});var d="api"===c.mode?"api":"socket.io";if("socket.io"===d)var e=io(c.statisticsEndpointUrl);this.track=function(a){a=angular.extend({},a),a.accountId=a.accountId||c.defaultAccountId,a.feature=a.feature||c.defaultFeature,"api"===d?b({method:"POST",url:c.statisticsEndpointUrl+"/track",data:a}):e.emit("track",a)}}]);